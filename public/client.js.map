{"version":3,"file":"client.js","sources":["webpack:///src/app/helpers/fetchMethods.js","webpack:///src/index.jsx","webpack:///src/app/app.jsx","webpack:///src/app/components/FieldDropdown.jsx","webpack:///src/app/components/QueryInput.jsx","webpack:///src/app/components/ResultsList.jsx","webpack:///./src/app/_app.scss"],"sourcesContent":["import axios from 'axios'\n\nconst BASE_URL = 'http://localhost:5000'\n\nexport async function getFields () {\n  const url = `${BASE_URL}/get_fields`\n  try {\n    const response = await axios.get(url)\n    console.log('field response --> ', response)\n    return response.data.sort()\n  } catch (err) {\n    console.log('error --> ', err)\n    return null\n  }\n}\n\nexport async function search ({ field, query }) {\n  const url = `${BASE_URL}/search`\n  const body = {\n    field,\n    query\n  }\n\n  try {\n    const response = await axios.post(url, body)\n    console.log('search response --> ', response.data)\n    return response.data\n  } catch (err) {\n    console.log('error --> ', err)\n    return null\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/app/helpers/fetchMethods.js","import 'babel-polyfill'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './app/app'\nimport './app/_app.scss'\n\nconst mute = (function () {\n  const iterateLogs = function (config) {\n    for (let prop in console) {\n      config.iteratee(prop)\n    }\n  }\n  const noop = function () {}\n  const logs = function (muted) {\n    var muted = typeof muted !== 'undefined' ? muted : false\n    iterateLogs({\n      iteratee: function (prop) {\n        if (muted === true) console[prop] = noop\n        else if (muted === false) delete console[prop]\n      }\n    })\n  }\n  return { logs }\n})()\n\n// suppress all logs in production mode\nif (process.env.NODE_ENV === 'production') mute.logs(true)\n\nReactDOM.render(<App />, document.getElementById('client'))\n\n\n\n// WEBPACK FOOTER //\n// src/index.jsx","import React, { PureComponent } from 'react'\n\nimport FieldDropdown from './components/FieldDropdown'\nimport QueryInput from './components/QueryInput'\nimport ResultsList from './components/ResultsList'\n\nimport { search } from './helpers/fetchMethods'\nexport default class App extends PureComponent {\n  state = {\n    field: '',\n    query: '',\n    results: [],\n    hits: 0\n  }\n\n  handleChange = ({ target: { id, value } }) => {\n    this.setState({ [id]: value })\n  }\n\n  handleQuery = async event => {\n    this.handleChange(event)\n    const { target: { value } } = event\n    const { field } = this.state\n\n    const results = await search({ field, query: value })\n    if (results) {\n      const { data, hits } = results\n      this.setState({ results: data, hits })\n    }\n  }\n\n  render () {\n    const { field, query, results, hits } = this.state\n\n    return (\n      <div className='search'>\n        <FieldDropdown field={field} handleChange={this.handleChange} />\n        <QueryInput query={query} handleQuery={this.handleQuery} />\n        <ResultsList results={results} field={field} hits={hits} />\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/app/app.jsx","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { getFields } from '../helpers/fetchMethods'\n\nconst { string, func } = PropTypes\n\nexport default class FieldDropdown extends PureComponent {\n  static propTypes = {\n    field: string,\n    handleChange: func\n  }\n\n  state = {\n    fields: [],\n    isLoading: true\n  }\n\n  async componentDidMount () {\n    const fields = await getFields()\n    if (fields) {\n      this.setState({ fields, isLoading: false })\n    }\n  }\n\n  generateOptions = () => {\n    const { fields } = this.state\n    return fields.map(field => (\n      <option key={field} value={field}>\n        {field}\n      </option>\n    ))\n  }\n\n  render () {\n    const { field, handleChange } = this.props\n    const { isLoading, fields } = this.state\n\n    return (\n      <div>\n        <select id='field' value={field} onChange={handleChange}>\n          <option value='' key='select-field'>\n            Select Field\n          </option>\n          {!isLoading && this.generateOptions()}\n        </select>\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/app/components/FieldDropdown.jsx","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\n\nconst { string, func } = PropTypes\n\nexport default class QueryInput extends PureComponent {\n  static propType = {\n    query: string,\n    handleQuery: func\n  }\n\n  render () {\n    const { query, handleQuery } = this.props\n\n    return (\n      <div className='input'>\n        <input id='query' value={query} onChange={handleQuery} />\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/app/components/QueryInput.jsx","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst { array, string, number } = PropTypes\n\nexport default class ResultsList extends Component {\n  static propTypes = {\n    results: array,\n    field: string,\n    hits: number\n  }\n\n  state = {\n    showUser: 0\n  }\n\n  handleClick = index => {\n    this.setState({ showUser: index })\n  }\n\n  generateResults = () => {\n    const { results, field } = this.props\n    const { showUser } = this.state\n\n    return results.map((result, index) => {\n      const { username } = result\n      return (\n        <div key={index} className='result'>\n          <div className='expanded-detail'>\n            Username: {username}\n            <div className='fill' />\n            <button onClick={() => this.handleClick(index)}>\n              {showUser === index && 'HIDE'}\n              {showUser !== index && 'SHOW'}\n            </button>\n          </div>\n          <div>Match: {result[field]}</div>\n        </div>\n      )\n    })\n  }\n\n  render () {\n    const { results, hits } = this.props\n    const { showUser } = this.state\n\n    return (\n      <div className='results-list'>\n        <div className='results'>\n          <div>Total: {hits}</div>\n          {results.length > 0 && this.generateResults()}\n        </div>\n        {results.length > 0 &&\n          <div className='expanded-result'>\n            <div>Username: {results[showUser].username}</div>\n            {Object.entries(results[showUser]).map(([key, value]) => {\n              return (\n                <div key={key} className='expanded-detail'>\n                  <div>{key}</div>\n                  <div className='fill' />\n                  <div>{value}</div>\n                </div>\n              )\n            })}\n          </div>}\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/app/components/ResultsList.jsx","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/_app.scss\n// module id = 383\n// module chunks = 0"],"mappings":"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","sourceRoot":""}